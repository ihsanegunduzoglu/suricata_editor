/* ==========================================================================
   0. GENEL AYARLAR VE TEMA DEĞİŞKENLERİ
   ========================================================================== */
:root {
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  --font-mono: 'Fira Code', 'Consolas', 'Courier New', monospace;

  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 32px;
  
  --radius: 8px;
  --transition-fast: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  --shadow-glow-accent: 0 0 0 3px color-mix(in srgb, var(--text-accent) 25%, transparent);
}

.theme-dark {
  --bg-main: #111014;
  --bg-panel: rgba(28, 27, 34, 0.6);
  --bg-panel-solid: #1c1b22;
  --bg-input: #2a2d2e;
  --bg-hover: rgba(255, 255, 255, 0.08);
  --bg-suggestion-hover: #3c3c3c;
  --bg-code: rgba(0, 0, 0, 0.3);

  --text-primary: #e0e0e0;
  --text-secondary: #a0a0a0;
  --text-keyword: #c586c0;
  --text-value: #ce9178;
  --text-accent: #389dff;

  --border-primary: rgba(255, 255, 255, 0.1);
  --border-accent: var(--text-accent);
  --border-left-accent: var(--text-accent);
  --shadow-color: rgba(0, 0, 0, 0.4);
  --danger-color: #ff6b6b;
}

.theme-light {
  --bg-main: #f0f2f5;
  --bg-panel: rgba(255, 255, 255, 0.7);
  --bg-panel-solid: #f8f9fa;
  --bg-input: #ffffff;
  --bg-hover: rgba(0, 0, 0, 0.05);
  --bg-suggestion-hover: #e0e0e0;
  --bg-code: #e8e8e8;

  --text-primary: #1f2937;
  --text-secondary: #6b7280;
  --text-keyword: #9b229b;
  --text-value: #b85a3c;
  --text-accent: #007acc;

  --border-primary: #dee2e6;
  --border-accent: #374151;
  --border-left-accent: var(--text-accent);
  --shadow-color: rgba(0, 0, 0, 0.1);
  --danger-color: #e53e3e;
}

html { box-sizing: border-box; scroll-padding-bottom: 20vh; scroll-behavior: smooth; }
*, *:before, *:after { box-sizing: inherit; transition-property: color, background-color, border-color, box-shadow, transform, opacity; transition-duration: 0.2s; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); }
body { margin: 0; }

.theme-wrapper { height: 100vh; display: flex; flex-direction: column; background-color: var(--bg-main); color: var(--text-primary); font-family: var(--font-sans); transition: background-color 0.3s, color 0.3s; }
.glass-effect { background-color: var(--bg-panel); backdrop-filter: blur(20px); border: 1px solid var(--border-primary); }

/* ==========================================================================
   1. ANA YERLEŞİM (WORKBENCH)
   ========================================================================== */
.app-container { height: 100vh; display: flex; flex-direction: column; overflow: auto; }
.app-layout { display: grid; grid-template-columns: minmax(0, 2fr) minmax(0, 1fr); flex-grow: 1; gap: var(--space-md); padding: var(--space-md); min-height: 0; }
.app-layout.single-column { grid-template-columns: 1fr; }

/* Resizable düzen (ihsan2 stili) */
.app-layout-resizable { flex-grow: 1; gap: var(--space-md); padding: var(--space-md); min-height: 0; display: flex; flex-direction: column; }
.app-layout-resizable > .react-resizable-panels { flex-grow: 1; min-height: 0; }

.main-content-area, .right-info-panel { border-radius: var(--radius); display: flex; flex-direction: column; padding: var(--space-lg); min-height: 0; }
/* Sol kolon kendi içinde kaydırılabilir olsun ki sayfada scrollbar görünsün */
.main-content-area { overflow-y: auto; }
.right-info-panel { background-color: var(--bg-panel); border-left: 1px solid var(--border-primary); }
.active-editor-container { overflow: visible; min-height: 350px; display: flex; flex-direction: column; padding-right: var(--space-sm); position: relative; z-index: 100; }

/* Resize tutamaç */
.resize-handle { width: var(--space-md); position: relative; outline: none; background-clip: padding-box; background-color: transparent; }
.resize-handle::before { content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 4px; height: 40px; background-color: var(--border-primary); border-radius: 4px; }
.resize-handle:hover::before, .resize-handle[data-resize-handle-state="drag"]::before { background-color: var(--text-accent); }

/* ==========================================================================
   2. ÜST MENÜ ÇUBUĞU
   ========================================================================== */
.top-menu-bar { background-color: var(--bg-panel); padding: 0 var(--space-md); flex-shrink: 0; border-bottom: 1px solid var(--border-primary); z-index: 2000; display: flex; justify-content: space-between; align-items: center; border-radius: var(--radius); }
.menu-left { flex-grow: 1; } .menu-right { flex-shrink: 0; } .menu-item { position: relative; display: inline-block; }
.menu-item > button { background: none; border: none; color: var(--text-secondary); padding: 0.5rem 1rem; cursor: pointer; font-size: 0.9rem; }
.menu-item > button:hover { background-color: var(--bg-suggestion-hover); color: var(--text-primary); }
.dropdown-menu { position: absolute; top: 100%; left: 0; background-color: var(--bg-input); border: 1px solid var(--border-primary); box-shadow: 0 4px 12px var(--shadow-color); border-radius: 4px; list-style: none; padding: 0.5rem 0; margin: 2px 0 0 0; min-width: 200px; z-index: 1000; }
.dropdown-menu li { color: var(--text-primary); padding: 0.5rem 1rem; cursor: pointer; }
.dropdown-menu li:hover { background-color: var(--text-accent); color: #fff; }
.theme-switcher { display: flex; align-items: center; gap: 0.5rem; }
.switch { position: relative; display: inline-block; width: 40px; height: 22px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #555; border-radius: 22px; }
.slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 3px; bottom: 3px; background-color: white; border-radius: 50%; transition: transform 0.4s; }
input:checked + .slider { background-color: var(--text-accent); }
input:checked + .slider:before { transform: translateX(18px); }

/* ==========================================================================
   3. AKTİF KURAL EDİTÖRÜ
   ========================================================================== */
.active-editor-wrapper { display: flex; flex-direction: column; flex-grow: 1; }
.editor-row { display: flex; flex-wrap: nowrap; align-items: flex-end; gap: var(--space-md); width: 100%; }
.input-group { display: flex; flex-direction: column; flex-grow: 1; flex-shrink: 1; min-width: 80px; position: relative; }
.input-group label { color: var(--text-secondary); font-size: 0.8rem; margin-bottom: var(--space-sm); text-transform: uppercase; font-weight: 500; padding-left: var(--space-sm); }
.input-group input { background-color: var(--bg-input); border: 1px solid var(--border-primary); color: var(--text-primary); padding: var(--space-sm) var(--space-md); border-radius: var(--radius); font-size: 1.1rem; font-family: var(--font-mono); text-align: center; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1) inset; }
.input-group input:focus { outline: none; border-color: var(--text-accent); box-shadow: var(--shadow-glow-accent); }
.final-header-text { font-size: 1.2rem; color: var(--text-primary); white-space: pre-wrap; word-break: break-all; margin: 0 0 1rem 0; padding: 0 0.5rem; }
.closing-paren { margin: 0; padding: 0 0.5rem; line-height: 1.5; }

/* ==========================================================================
   4. SEÇENEK (OPTION) YAPISI
   ========================================================================== */
.options-view-container { display: flex; flex-direction: column; flex-grow: 1; position: relative; }
.options-builder { display: flex; flex-direction: column; flex-grow: 1; position: relative; z-index: 1; }
.options-builder:focus { outline: none; }
.added-options-list { overflow: visible; }
.option-row { position: relative; display: flex; align-items: center; padding: 0.5rem 0.75rem; font-size: 1.1rem; cursor: pointer; border-radius: var(--radius); margin: 4px 0; border: 1px solid transparent; }
.option-row:hover { background-color: var(--bg-hover); border-color: var(--border-primary); }
.option-row.is-selected { background-color: color-mix(in srgb, var(--text-accent) 15%, var(--bg-hover)) !important; color: var(--text-primary) !important; border-left: 3px solid var(--text-accent); padding-left: calc(0.75rem - 3px); box-shadow: var(--shadow-glow-accent); }
.option-row.is-editing, .option-row.is-selected { position: relative; z-index: 2100; }
.option-keyword { color: var(--text-keyword); margin-right: 0.5rem; font-weight: 500; }
.option-value { color: var(--text-value); white-space: pre-wrap; word-break: break-all; }
.option-semicolon { color: var(--text-primary); margin-left: 0.25rem; }
.delete-option-btn { position: absolute; top: 50%; right: 8px; transform: translateY(-50%) scale(0.8); background: var(--bg-hover); border: 1px solid var(--border-primary); color: var(--text-secondary); font-size: 1.5rem; line-height: 1; padding: 0 0.5rem; cursor: pointer; border-radius: 50%; width: 28px; height: 28px; opacity: 0; visibility: hidden; }
.option-row:hover .delete-option-btn { opacity: 0.6; visibility: visible; transform: translateY(-50%) scale(1); }
.delete-option-btn:hover { opacity: 1; background-color: var(--danger-color); color: white; border-color: var(--danger-color); transform: translateY(-50%) scale(1.1); }

.add-option-container { margin-top: auto; padding-top: var(--space-md); position: relative; z-index: 2; }
.add-option-search { width: 100%; background-color: transparent; border: none; border-top: 1px dashed var(--border-primary); color: var(--text-primary); padding: 0.75rem 0.5rem; margin-top: 0.5rem; font-size: 1rem; font-family: inherit; box-sizing: border-box; border-radius: 0; }
.add-option-search:focus { outline: none; border-top-style: solid; border-top-color: var(--text-accent); }
.suggestions-list, .add-option-list { position: absolute; z-index: 9999; top: calc(100% + 6px); left: 0; width: 100%; min-width: 0; box-sizing: border-box; background-color: var(--bg-panel-solid); border: 1px solid var(--border-primary); border-radius: var(--radius); box-shadow: 0 10px 30px -5px var(--shadow-color); list-style: none; margin: 0; padding: var(--space-xs) 0; max-height: 280px; overflow-y: auto; }
.suggestions-list li, .add-option-list li { font-size: 1rem; color: var(--text-primary); padding: 0.75rem; cursor: pointer; border-bottom: 1px solid var(--border-primary); display: flex; align-items: center; }
.suggestions-list li:last-child, .add-option-list li:last-child { border-bottom: none; }
.suggestions-list li:hover, .add-option-list li:hover { background-color: var(--text-accent); color: #fff; }
.option-description { color: var(--text-secondary); font-size: 0.9rem; margin-left: 0.5rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

.option-row-editing-card { width: 100%; box-sizing: border-box; margin: 0.5rem 0; background-color: var(--bg-panel); border: 1px solid var(--border-primary); border-radius: 6px; padding: 0.5rem 1.5rem 0 1.5rem; box-shadow: 0 10px 30px -10px var(--shadow-color); }
.content-value-row { display: flex; align-items: center; margin-bottom: 0.5rem; }
.input-with-format-selector { position: relative; display: flex; align-items: center; flex-grow: 1; }
.option-value-input { flex-grow: 1; width: 100%; box-sizing: border-box; background-color: transparent; border: none; color: var(--text-value); font-family: inherit; font-size: inherit; padding: 0.5rem; margin-top: 0.20rem; border-bottom: 2px solid transparent; border-radius: 4px; padding-right: 150px !important; }
.option-value-input:focus { outline: none; border-bottom: 2px solid var(--text-accent); background-color: var(--bg-suggestion-hover); }
.content-format-inline-selector { position: absolute; top: 50%; transform: translateY(-50%); right: 0.75rem; display: flex; align-items: center; gap: 0.25rem; user-select: none; z-index: 10; }
.format-option-inline { padding: 0.2rem 0.5rem; border-radius: 3px; cursor: pointer; font-size: 0.75rem; font-weight: 500; color: var(--text-secondary); opacity: 0.6; background-color: transparent; }
.format-option-inline:hover:not(.active) { opacity: 1; color: var(--text-primary); }
.format-option-inline.active { background-color: transparent; box-shadow: none; color: #FFFFFF; font-weight: 700; opacity: 1; }
.format-divider-inline { color: var(--text-secondary); font-size: 0.75rem; opacity: 0.4; }

.modifiers-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 1.5rem; margin-bottom: 1.5rem; }
.modifier-item { background-color: var(--bg-hover); border: 1px solid var(--border-primary); border-radius: 6px; padding: 0.75rem 1rem; display: flex; flex-direction: column; justify-content: center; }
.modifier-item:hover { border-color: var(--text-accent); background-color: rgba(0, 152, 255, 0.05); }
.modifier-item label { color: var(--text-secondary); font-size: 0.8rem; font-weight: 600; text-transform: uppercase; margin-bottom: 0.5rem; display: block; }
.modifier-item input[type="number"] { background-color: transparent; border: none; border-bottom: 2px solid var(--border-primary); color: var(--text-value); font-size: 1.1rem; font-family: var(--font-mono); padding: 0.25rem 0; width: 100%; -moz-appearance: textfield; }
.modifier-item input[type="number"]::-webkit-outer-spin-button, .modifier-item input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
.modifier-item input[type="number"]:focus { outline: none; border-color: var(--text-accent); }
.modifier-item input[type="number"]::placeholder { color: var(--text-secondary); opacity: 0.5; font-size: 0.9rem; }
.modifier-item.modifier-toggle label { display: flex; justify-content: space-between; align-items: center; width: 100%; cursor: pointer; margin-bottom: 0; }
.modifier-item.modifier-toggle input[type="checkbox"] { display: none; }
.toggle-switch { position: relative; display: inline-block; width: 40px; height: 22px; background-color: var(--bg-input); border-radius: 22px; border: 1px solid var(--border-primary); }
.toggle-switch::after { content: ''; position: absolute; width: 16px; height: 16px; border-radius: 50%; background-color: var(--text-secondary); top: 2px; left: 2px; }
.modifier-item.modifier-toggle input:checked + .toggle-switch { background-color: var(--text-accent); border-color: var(--text-accent); }
.modifier-item.modifier-toggle input:checked + .toggle-switch::after { transform: translateX(18px); background-color: white; }

/* ==========================================================================
   5. FİNALİZE EDİLMİŞ KUTULAR & EYLEMLER
   ========================================================================== */
.finalized-rules-list { display: flex !important; flex-direction: column !important; position: static; min-height: 400px; margin-top: var(--space-lg); }
/* Liste gövdesi kaydırılabilir olsun */
.rules-scroll-wrapper { padding-right: var(--space-sm); padding-top: 0; overflow-y: auto; min-height: 0; flex-grow: 1; }
.finalized-rule-container { position: relative; border: 1px solid var(--border-primary); border-radius: var(--radius); margin-bottom: var(--space-lg); margin-top: var(--space-xl); background-color: var(--bg-panel-solid); }
.finalized-rule-container:hover { border-color: var(--text-secondary); box-shadow: 0 4px 20px var(--shadow-color); }
.finalized-rule-container.is-being-edited { border-color: var(--text-accent); box-shadow: 0 0 10px var(--text-accent); }
.finalized-rule-container.is-selected { border-left: 4px solid var(--text-accent); }
.rule-actions { position: absolute; top: -18px; left: var(--space-md); z-index: 20; display: flex; flex-direction: row; align-items: center; gap: var(--space-xs); padding: var(--space-xs); border-radius: var(--radius); background-color: var(--bg-panel-solid); border: 1px solid var(--border-primary); box-shadow: 0 2px 8px var(--shadow-color); opacity: 1; }
.rule-selection-checkbox { cursor: pointer; margin-right: var(--space-xs); }
.rule-action-btn { background-color: transparent; color: var(--text-secondary); border: none; border-radius: 4px; width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; cursor: pointer; }
.rule-action-btn:hover:not(:disabled) { background-color: var(--bg-hover); color: var(--text-primary); transform: scale(1.1); }
.rule-action-btn:disabled { opacity: 0.5; cursor: not-allowed; }

/* ==========================================================================
   6. SAĞ BİLGİ PANELİ
   ========================================================================== */
.info-panel-content, .all-options-info { padding: 1.5rem; }
.info-panel-content h3, .all-options-info h3 { margin-top: 0; color: var(--text-primary); font-size: 1.5rem; border-bottom: 2px solid var(--border-primary); padding-bottom: 0.75rem; margin-bottom: 1.5rem; }
.info-panel-content p, .all-options-info p { line-height: 1.6; color: var(--text-secondary); margin-bottom: 1.5rem; font-size: 0.95rem; }
.info-options-list { list-style: none; padding: 0; margin: 1rem 0 0 0; padding-top: 0.5rem; }
.info-options-list li { background-color: var(--bg-hover); padding: 0.75rem 1rem; margin-bottom: 0.75rem; border-radius: 6px; display: flex; flex-direction: column; border-left: 4px solid var(--text-secondary); }
.theme-light .info-options-list li:hover { background-color: rgba(0, 0, 0, 0.08); }
.theme-dark .info-options-list li:hover { background-color: rgba(255, 255, 255, 0.08); }
.info-options-list li strong { color: var(--text-primary); font-size: 1.1rem; margin-bottom: 0.25rem; }
.info-options-list li span { color: var(--text-secondary); font-size: 0.85rem; }
.info-options-list.has-highlight li:not(.is-highlighted) { opacity: 0.4; transform: scale(0.98); }
.info-options-list li.is-highlighted { border-left-color: var(--text-accent); transform: scale(1.03); opacity: 1; box-shadow: 0 0 15px -3px var(--text-accent); }

/* ==========================================================================
   7. SEKME + PAYLOAD & REGEX
   ========================================================================== */
.info-panel-container { display: flex; flex-direction: column; height: 100%; }
.info-panel-tabs { display: flex; flex-shrink: 0; border-bottom: 1px solid var(--border-primary); margin: -24px -24px 16px -24px; padding: 0 var(--space-lg); }
.tab-button { padding: var(--space-sm) var(--space-md); background: transparent; border: none; color: var(--text-secondary); cursor: pointer; font-family: var(--font-sans); font-weight: 500; font-size: 0.9rem; border-bottom: 2px solid transparent; }
.tab-button:hover { color: var(--text-primary); }
.tab-button.active { color: var(--text-accent); border-bottom-color: var(--text-accent); }
.info-panel-body { flex-grow: 1; overflow-y: auto; min-height: 0; padding-right: var(--space-sm); display: flex; flex-direction: column; }
.info-panel-body > * { flex-grow: 1; display: flex; flex-direction: column; }
.panel-placeholder { padding: 1.5rem; text-align: center; color: var(--text-secondary); }
.payload-visualizer-panel { display: flex; flex-direction: column; height: 100%; }
.pv-grid { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-lg); flex-grow: 1; overflow: hidden; height: 100%; }
.pv-inputs, .pv-results { display: flex; flex-direction: column; gap: var(--space-lg); overflow-y: auto; padding: var(--space-xs) var(--space-sm) var(--space-xs) var(--space-xs); }
.pv-section { display: flex; flex-direction: column; }
.pv-section-header { display: flex; justify-content: space-between; align-items: center; }
.pv-section label { font-weight: 500; color: var(--text-secondary); margin-bottom: var(--space-sm); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.5px; }
.payload-visualizer-panel textarea, .payload-visualizer-panel input[type="text"], .regex-tester-panel textarea, .regex-tester-panel input[type="text"] { background-color: var(--bg-input) !important; border: 1px solid var(--border-primary) !important; border-radius: var(--radius) !important; padding: var(--space-sm) var(--space-md) !important; color: var(--text-primary) !important; font-family: var(--font-mono) !important; font-size: 0.9rem !important; width: 100% !important; box-sizing: border-box !important; }
.payload-visualizer-panel textarea, .regex-tester-panel textarea { resize: vertical; min-height: 100px; }
.payload-visualizer-panel textarea:focus, .payload-visualizer-panel input[type="text"]:focus, .regex-tester-panel textarea:focus, .regex-tester-panel input[type="text"]:focus { outline: none !important; border-color: var(--text-accent) !important; box-shadow: 0 0 0 2px var(--text-accent) !important; }

/* ==========================================================================
   8. DENETİM (VALIDATION) PANELİ
   ========================================================================== */
.validation-panel { padding: 0.5rem 0; margin-top: 1rem; border-top: 1px dashed var(--border-primary); }
.validation-list { list-style: none; padding: 0; margin: 0; }
.validation-item { display: flex; align-items: center; padding: var(--space-sm); margin-bottom: var(--space-sm); border-radius: var(--radius); font-size: 0.9rem; border-left: 3px solid; }
.validation-item.error { background-color: rgba(239, 68, 68, 0.1); color: #fca5a5; border-left-color: #ef4444; }
.validation-item.warning { background-color: rgba(245, 158, 11, 0.1); color: #fcd34d; border-left-color: #f59e0b; }
.validation-icon { margin-right: var(--space-sm); font-size: 1rem; }
.validation-message { flex-grow: 1; }

/* ==========================================================================
   9. MITRE & CUSTOM SELECT
   ========================================================================== */
.metadata-toolbar { text-align: right; margin: 1rem 0; padding-top: 1rem; border-top: 1px dashed var(--border-primary); }
.mitre-toggle-btn, .mitre-done-btn { background-color: transparent; border: 1px solid var(--border-primary); padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 0.85rem; font-weight: 600; }
.mitre-toggle-btn { color: var(--text-accent); margin-right: 1rem; }
.mitre-toggle-btn:hover { background-color: var(--text-accent); border-color: var(--text-accent); color: #ffffff; }
.mitre-done-btn { color: var(--text-secondary); margin-right: 0.75rem; }
.mitre-done-btn:hover { background-color: var(--bg-suggestion-hover); color: var(--text-primary); border-color: var(--text-secondary); }
.mitre-editor-card { background-color: var(--bg-hover); border: 1px solid var(--border-primary); border-radius: 6px; padding: 1rem 1.5rem; margin: 1rem 1rem 1rem 0; }
.mitre-editor-card h4 { margin: 0 0 1.5rem 0; color: var(--text-accent); border-bottom: 1px solid var(--border-primary); padding-bottom: 1rem; font-size: 1rem; font-weight: 600; display: flex; justify-content: space-between; align-items: center; }
.mitre-selectors { display: flex; gap: 1rem; margin-bottom: 1.5rem; }
.mitre-selectors select { flex-grow: 1; width: 33%; background-color: var(--bg-input); color: var(--text-primary); border: 1px solid var(--border-primary); border-radius: 4px; padding: 0.6rem 0.75rem; font-size: 0.9rem; font-family: inherit; cursor: pointer; }
.mitre-selectors select:focus { outline: none; border-color: var(--border-accent); box-shadow: 0 0 0 2px var(--shadow-color); }
.mitre-selectors select:disabled { opacity: 0.5; cursor: not-allowed; background-color: var(--bg-hover); }
.mitre-add-btn { display: block; margin-left: auto; padding: 0.6rem 1.5rem; font-size: 0.9rem; font-weight: 600; color: #ffffff; background-color: var(--text-accent); border: none; border-radius: 4px; cursor: pointer; }
.mitre-add-btn:hover:not(:disabled) { background-color: #007acc; }
.mitre-add-btn:disabled { opacity: 0.6; cursor: not-allowed; }
.custom-select-container { position: relative; width: 33%; flex-grow: 1; }
.custom-select-container.disabled { opacity: 0.5; }
.custom-select-display { width: 100%; background-color: var(--bg-input); color: var(--text-primary); border: 1px solid var(--border-primary); border-radius: 4px; padding: 0.6rem 0.75rem; font-size: 0.9rem; font-family: inherit; cursor: pointer; text-align: left; display: flex; justify-content: space-between; align-items: center; }
.custom-select-container:not(.disabled) .custom-select-display:hover { border-color: var(--border-accent); }
.custom-select-arrow { font-size: 0.7rem; transform: translateY(1px); }
.custom-select-options { position: absolute; top: 105%; left: 0; right: 0; z-index: 1000; background-color: var(--bg-input); border: 1px solid var(--border-primary); border-radius: 4px; list-style: none; margin: 0; padding: 0.25rem 0; max-height: 250px; overflow-y: auto; box-shadow: 0 8px 16px var(--shadow-color); }
.custom-select-options li { padding: 0.7rem 1rem; cursor: pointer; font-size: 0.9rem; color: var(--text-primary); }
.custom-select-options li:hover { background-color: var(--bg-suggestion-hover); }

/* ==========================================================================
   10. MODAL & ÇEŞİTLİ
   ========================================================================== */
.is-editing-active-btn { background-color: var(--text-accent) !important; color: white !important; border-color: var(--text-accent) !important; box-shadow: 0 0 10px rgba(56, 157, 255, 0.5) !important; transform: scale(1.05); }
.is-editing-active-btn:hover { background-color: #5baeff !important; box-shadow: 0 0 15px rgba(56, 157, 255, 0.7) !important; transform: scale(1.1); }
@keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(56, 157, 255, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(56, 157, 255, 0); } 100% { box-shadow: 0 0 0 0 rgba(56, 157, 255, 0); } }
.pulse-animation { animation: pulse 2s infinite; }
.pv-open-btn { background: transparent; border: none; color: var(--text-secondary); cursor: pointer; padding: 0; margin-right: var(--space-sm); display: flex; align-items: center; justify-content: center; opacity: 0.6; }
.pv-open-btn:hover { opacity: 1; color: var(--text-accent); }
.pv-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 0.6); display: flex; align-items: center; justify-content: center; z-index: 9999; backdrop-filter: blur(4px); }
.pv-modal { width: 90%; max-width: 1200px; height: 80%; max-height: 800px; border-radius: var(--radius); padding: var(--space-lg); display: flex; flex-direction: column; position: relative; box-shadow: 0 10px 30px var(--shadow-color); }
.pv-close-btn { position: absolute; top: var(--space-md); right: var(--space-md); background: transparent; border: none; color: var(--text-secondary); cursor: pointer; padding: var(--space-xs); border-radius: 50%; }
.pv-close-btn:hover { background-color: var(--bg-hover); color: var(--text-primary); transform: scale(1.1); }
.pv-modal h3 { margin: 0 0 var(--space-lg) 0; padding-bottom: var(--space-md); border-bottom: 1px solid var(--border-primary); color: var(--text-primary); font-weight: 600; }
.pv-modal textarea, .pv-modal input[type="text"] { background-color: var(--bg-input); border: 1px solid var(--border-primary); border-radius: var(--radius); padding: var(--space-sm) var(--space-md); color: var(--text-primary); font-family: var(--font-mono); font-size: 0.9rem; width: 100%; box-sizing: border-box; }
.pv-modal textarea { resize: vertical; min-height: 100px; }
.pv-modal textarea:focus, .pv-modal input[type="text"]:focus { outline: none; border-color: var(--text-accent); box-shadow: 0 0 0 2px var(--text-accent); }

/* ==========================================================================
   11. REGEX TEST PANELİ
   ========================================================================== */
.regex-tester-panel { display: flex; flex-direction: column; height: 100%; gap: var(--space-lg); overflow: hidden; }
.rt-grid { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-lg); height: 100%; overflow: hidden; }
.rt-inputs, .rt-results { display: flex; flex-direction: column; gap: var(--space-lg); overflow-y: auto; padding-right: var(--space-sm); }
.rt-results-content { display: flex; flex-direction: column; gap: var(--space-md); }
.rt-results .pv-visualization { height: 100%; overflow-y: auto; background-color: var(--bg-code); padding: var(--space-md); border-radius: var(--radius); white-space: pre-wrap; word-break: break-all; font-family: var(--font-mono); color: var(--text-secondary); border: 1px solid var(--border-primary); }
.rt-input { font-family: var(--font-mono) !important; }
.rt-summary { font-size: 0.9rem; color: var(--text-secondary); padding: var(--space-sm) var(--space-md); background-color: var(--bg-hover); border-radius: var(--radius); text-align: center; }
.rt-highlighted-text { padding: var(--space-md); border: 1px solid var(--border-primary); border-radius: var(--radius); background-color: var(--bg-code); white-space: pre-wrap; word-break: break-all; font-family: var(--font-mono); }
.rt-match { background-color: color-mix(in srgb, var(--text-accent) 40%, transparent); color: var(--text-primary); font-weight: 600; padding: 2px 1px; border-radius: 3px; box-shadow: 0 0 5px color-mix(in srgb, var(--text-accent) 50%, transparent); }
.rt-match-list-container { display: flex; flex-direction: column; gap: var(--space-sm); }
.rt-match-list { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: var(--space-md); font-family: var(--font-mono); font-size: 0.9rem; }
.rt-match-item { border: 1px solid var(--border-primary); border-radius: var(--radius); background-color: var(--bg-hover); overflow: hidden; }
.rt-full-match, .rt-capture-group { padding: var(--space-sm) var(--space-md); border-bottom: 1px solid var(--border-primary); display: flex; gap: var(--space-md); }
.rt-match-item li:last-child { border-bottom: none; }
.rt-full-match span, .rt-capture-group span { color: var(--text-keyword); opacity: 0.7; flex-shrink: 0; }
.rt-full-match { background-color: var(--bg-panel-solid); color: var(--text-primary); font-weight: 600; }
.rt-capture-group { color: var(--text-value); }

/* ==========================================================================
   12. ANİMASYONLAR & GLOBAL ACTION BAR
   ========================================================================== */
@keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes slideInDown { from { opacity: 0; transform: translateY(-15px); } to { opacity: 1; transform: translateY(0); } }
@keyframes suggestionFadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
@keyframes highlight-editor { 0% { box-shadow: 0 0 0 0 color-mix(in srgb, var(--text-accent) 50%, transparent); border-color: var(--border-primary); } 50% { box-shadow: 0 0 25px 5px color-mix(in srgb, var(--text-accent) 40%, transparent); border-color: var(--text-accent); } 100% { box-shadow: 0 0 0 0 color-mix(in srgb, var(--text-accent) 0%, transparent); border-color: var(--border-primary); } }
.active-editor-container.highlight-on-edit { animation: highlight-editor 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94); }

.global-action-bar { display: flex; align-items: center; width: 100%; margin: 24px 0; }
.toolbar-group-left { display: flex; align-items: center; gap: var(--space-sm); border-top: 1px solid var(--border-primary); padding-top: 8px; flex-grow: 1; }
.toolbar-group-right { display: flex; align-items: center; gap: var(--space-sm); border-bottom: 1px solid var(--border-primary); padding-bottom: 8px; flex-grow: 1; justify-content: flex-end; }
.action-bar-spacer { position: relative; flex-grow: 1; min-width: 60px; height: 60px; }
.action-bar-spacer::before { content: ''; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%) rotate(-20deg); height: 45px; border-left: 1px solid var(--border-primary); opacity: 0.6; }
.global-action-bar button { display: flex; align-items: center; gap: var(--space-sm); padding: var(--space-xs) var(--space-md); background-color: transparent; border: 1px solid transparent; color: var(--text-secondary); border-radius: var(--radius); font-size: 0.9rem; font-family: var(--font-sans); font-weight: 500; cursor: pointer; white-space: nowrap; }
.global-action-bar button:hover { background-color: var(--bg-hover); color: var(--text-primary); }

/* ==========================================================================
   ihsan2 layout fixes: full-height right panel and dark scrollbars
   ========================================================================== */
.main-content-area, .right-info-panel { flex: 1; min-height: 0; }
.right-info-panel { display: flex; flex-direction: column; }
.info-panel-container { flex: 1; }

/* App container should allow page scroll */
.app-container { height: 100vh; display: flex; flex-direction: column; overflow: auto; }

/* PanelGroup root full-height helper */
.panels-root { height: 100%; display: flex; min-height: 0; }

/* Right panel should always span full height */
.right-info-panel { height: 100%; display: flex; flex-direction: column; }
.info-panel-container { height: 100%; display: flex; flex-direction: column; }

/* Dark scrollbar on page (html/body) */
html, body { height: 100%; }
html::-webkit-scrollbar { width: 10px; }
html::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); }
html::-webkit-scrollbar-thumb { background: #2a2d2e; border-radius: 8px; border: 2px solid transparent; background-clip: padding-box; }
html::-webkit-scrollbar-thumb:hover { background: #3a3f41; }

/* Firefox */
html { scrollbar-width: thin; scrollbar-color: #2a2d2e transparent; }
.theme-light html { scrollbar-color: #9aa0a6 transparent; }
*::-webkit-scrollbar { width: 10px; height: 10px; }
*::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); border-radius: 8px; }
*::-webkit-scrollbar-thumb { background: #2a2d2e; border-radius: 8px; border: 2px solid transparent; background-clip: padding-box; }
*::-webkit-scrollbar-thumb:hover { background: #3a3f41; }
.theme-light *::-webkit-scrollbar-thumb { background: #9aa0a6; }
.theme-light *::-webkit-scrollbar-thumb:hover { background: #7a7f83; }

/* Explicit dark scrollbar styling for inner scroll containers */
.main-content-area,
.rules-scroll-wrapper,
.info-panel-body {
  scrollbar-width: thin;
  scrollbar-color: #2a2d2e transparent;
}
.theme-light .main-content-area,
.theme-light .rules-scroll-wrapper,
.theme-light .info-panel-body {
  scrollbar-width: thin;
  scrollbar-color: #9aa0a6 transparent;
}
.main-content-area::-webkit-scrollbar,
.rules-scroll-wrapper::-webkit-scrollbar,
.info-panel-body::-webkit-scrollbar { width: 10px; height: 10px; }
.main-content-area::-webkit-scrollbar-track,
.rules-scroll-wrapper::-webkit-scrollbar-track,
.info-panel-body::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); border-radius: 8px; }
.main-content-area::-webkit-scrollbar-thumb,
.rules-scroll-wrapper::-webkit-scrollbar-thumb,
.info-panel-body::-webkit-scrollbar-thumb { background: #2a2d2e; border-radius: 8px; border: 2px solid transparent; background-clip: padding-box; }
.main-content-area::-webkit-scrollbar-thumb:hover,
.rules-scroll-wrapper::-webkit-scrollbar-thumb:hover,
.info-panel-body::-webkit-scrollbar-thumb:hover { background: #3a3f41; }
.theme-light .main-content-area::-webkit-scrollbar-thumb,
.theme-light .rules-scroll-wrapper::-webkit-scrollbar-thumb,
.theme-light .info-panel-body::-webkit-scrollbar-thumb { background: #9aa0a6; }
.theme-light .main-content-area::-webkit-scrollbar-thumb:hover,
.theme-light .rules-scroll-wrapper::-webkit-scrollbar-thumb:hover,
.theme-light .info-panel-body::-webkit-scrollbar-thumb:hover { background: #7a7f83; }

/* overrides: rules list scroll + full-height panel */
.main-content-area { overflow-y: auto; height: 100%; }
.finalized-rules-list { flex: 1; min-height: 0; display: flex; flex-direction: column; height: 100%; }
.rules-scroll-wrapper { flex: 1; min-height: 0; max-height: 100%; overflow-y: auto !important; }

/* dark scrollbar for rules list explicitly */
.rules-scroll-wrapper { scrollbar-width: thin; scrollbar-color: #2a2d2e transparent; }
.rules-scroll-wrapper::-webkit-scrollbar { width: 10px; height: 10px; }
.rules-scroll-wrapper::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); border-radius: 8px; }
.rules-scroll-wrapper::-webkit-scrollbar-thumb { background: #2a2d2e; border-radius: 8px; border: 2px solid transparent; background-clip: padding-box; }
.rules-scroll-wrapper::-webkit-scrollbar-thumb:hover { background: #3a3f41; }
.theme-light .rules-scroll-wrapper { scrollbar-width: thin; scrollbar-color: #9aa0a6 transparent; }
.theme-light .rules-scroll-wrapper::-webkit-scrollbar-thumb { background: #9aa0a6; }
.theme-light .rules-scroll-wrapper::-webkit-scrollbar-thumb:hover { background: #7a7f83; }

/* === Right panel refinement for Payload/Regex/Test === */
.right-info-panel { gap: var(--space-md); }
.right-info-panel h3 { margin-top: 0; }

/* Shared card-like containers */
.syntax-highlight-container,
.rt-results-output,
.pv-visualization,
.rt-file-upload-area.standalone,
.rt-active-rule-display {
  background-color: var(--bg-panel-solid);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius);
}

/* Section spacing */
.payload-visualizer-panel .rt-section,
.regex-tester-panel .rt-section,
.rule-tester-panel .rt-section { gap: var(--space-sm); }

/* Inputs in right panel */
.right-info-panel textarea,
.right-info-panel input[type="text"] {
  background-color: var(--bg-input);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius);
  color: var(--text-primary);
}

/* Buttons width and emphasis */
.pv-analyze-btn,
.regex-tester-panel .pv-analyze-btn,
.rule-tester-panel .pv-analyze-btn,
.rule-tester-panel button { min-height: 40px; font-weight: 600; }

/* Results column box look */
.rt-results-output { padding: var(--space-md); }
.syntax-highlight-container { padding: var(--space-sm); }

/* Panel inner scroll to avoid clipping */
.right-info-panel { overflow: hidden; }
.info-panel-body { overflow: hidden; }
.info-panel-body > * { overflow: hidden; }
/* Allow inner areas to scroll when needed */
.rule-tester-panel .rt-results-output,
.payload-visualizer-panel .pv-visualization,
.regex-tester-panel .rt-results .pv-visualization { overflow-y: auto; }

/* Dark scrollbar on panel inner scrolls */
.right-info-panel .rt-results-output,
.right-info-panel .pv-visualization,
.right-info-panel .syntax-highlight-container {
  scrollbar-width: thin;
  scrollbar-color: #2a2d2e transparent;
}
.right-info-panel .rt-results-output::-webkit-scrollbar,
.right-info-panel .pv-visualization::-webkit-scrollbar,
.right-info-panel .syntax-highlight-container::-webkit-scrollbar { width: 10px; height: 10px; }
.right-info-panel .rt-results-output::-webkit-scrollbar-track,
.right-info-panel .pv-visualization::-webkit-scrollbar-track,
.right-info-panel .syntax-highlight-container::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); border-radius: 8px; }
.right-info-panel .rt-results-output::-webkit-scrollbar-thumb,
.right-info-panel .pv-visualization::-webkit-scrollbar-thumb,
.right-info-panel .syntax-highlight-container::-webkit-scrollbar-thumb { background: #2a2d2e; border-radius: 8px; border: 2px solid transparent; background-clip: padding-box; }
.right-info-panel .rt-results-output::-webkit-scrollbar-thumb:hover,
.right-info-panel .pv-visualization::-webkit-scrollbar-thumb:hover,
.right-info-panel .syntax-highlight-container::-webkit-scrollbar-thumb:hover { background: #3a3f41; }
.theme-light .right-info-panel .rt-results-output,
.theme-light .right-info-panel .pv-visualization,
.theme-light .right-info-panel .syntax-highlight-container { scrollbar-color: #9aa0a6 transparent; }
.theme-light .right-info-panel .rt-results-output::-webkit-scrollbar-thumb,
.theme-light .right-info-panel .pv-visualization::-webkit-scrollbar-thumb,
.theme-light .right-info-panel .syntax-highlight-container::-webkit-scrollbar-thumb { background: #9aa0a6; }
.theme-light .right-info-panel .rt-results-output::-webkit-scrollbar-thumb:hover,
.theme-light .right-info-panel .pv-visualization::-webkit-scrollbar-thumb:hover,
.theme-light .right-info-panel .syntax-highlight-container::-webkit-scrollbar-thumb:hover { background: #7a7f83; }

/* === Right panel: precise styles for Payload/Regex/Test + scrollbar fix === */
/* Ensure panel body scrolls (override previous hidden) */
.right-info-panel .info-panel-body { overflow-y: auto !important; }
.right-info-panel .info-panel-body > * { overflow: visible; }

/* Section containers */
.rule-tester-panel, .regex-tester-panel, .payload-visualizer-panel { gap: var(--space-lg); }
.rule-tester-panel .rt-section { background: var(--bg-panel-solid); border: 1px solid var(--border-primary); border-radius: var(--radius); padding: var(--space-md); }
.rule-tester-panel h3 { margin: 0 0 var(--space-md) 0; border-bottom: 1px solid var(--border-primary); padding-bottom: var(--space-sm); }
.rt-results-section h3 { margin: 0 0 var(--space-sm) 0; }

/* Mode selector segmented buttons */
.rt-mode-selector { display: inline-flex; gap: 0; border: 1px solid var(--border-primary); border-radius: 8px; overflow: hidden; background: var(--bg-input); }
.rt-mode-btn { appearance: none; background: transparent; color: var(--text-secondary); border: none; padding: 8px 12px; font-weight: 600; cursor: pointer; }
.rt-mode-btn + .rt-mode-btn { border-left: 1px solid var(--border-primary); }
.rt-mode-btn:hover { background: var(--bg-hover); color: var(--text-primary); }
.rt-mode-btn.active { background: var(--text-accent); color: #fff; }

/* Upload areas */
.rt-file-upload-area { display: flex; align-items: center; gap: var(--space-sm); }
.rt-file-upload-area.standalone { background: var(--bg-panel-solid); border: 1px solid var(--border-primary); border-radius: var(--radius); padding: var(--space-sm) var(--space-md); }
.rt-upload-btn { background: var(--bg-input); color: var(--text-primary); border: 1px solid var(--border-primary); border-radius: 6px; padding: 8px 12px; font-weight: 600; cursor: pointer; }
.rt-upload-btn:hover:not(:disabled) { background: var(--bg-hover); }
.rt-file-name { color: var(--text-secondary); font-size: 0.9rem; }

/* Primary actions */
.pv-analyze-btn, .rt-start-btn { width: 100%; background: var(--text-accent); color: #fff; border: none; border-radius: 8px; padding: 12px 14px; font-weight: 700; cursor: pointer; box-shadow: 0 4px 16px rgba(0,0,0,.25); }
.pv-analyze-btn:hover:not(:disabled), .rt-start-btn:hover:not(:disabled) { filter: brightness(1.07); }
.pv-analyze-btn:disabled, .rt-start-btn:disabled { opacity: .6; cursor: not-allowed; }

/* Placeholders */
.pv-placeholder, .rt-placeholder-text { display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; color: var(--text-secondary); min-height: 160px; gap: 8px; border: 2px dashed var(--border-primary); border-radius: var(--radius); background: rgba(0,0,0,0.08); }

/* Results output card */
.rt-results-output { background: var(--bg-panel-solid); border: 1px solid var(--border-primary); border-radius: var(--radius); min-height: 180px; }

/* Regex grid: inputs left, results right with boxed result */
.regex-tester-panel .rt-grid { grid-template-columns: 1.1fr 0.9fr; }
.regex-tester-panel .rt-results .rt-results-content { background: transparent; }
.regex-tester-panel .rt-results .pv-visualization { background: var(--bg-panel-solid); border: 1px solid var(--border-primary); }

/* Payload viz cards */
.pv-results .pv-section, .regex-tester-panel .pv-section { gap: var(--space-sm); }
.pv-visualization { border: 1px solid var(--border-primary); background: var(--bg-panel-solid); color: var(--text-primary); padding: var(--space-md); border-radius: var(--radius); }
.pv-viz-match { background: color-mix(in srgb, var(--text-accent) 35%, transparent); color: #fff; padding: 0 2px; border-radius: 3px; }

/* Errors */
.pv-error, .rt-error-container { background: rgba(239,68,68,.08); border: 1px solid rgba(239,68,68,.35); color: #fca5a5; padding: var(--space-sm) var(--space-md); border-radius: var(--radius); }
.rt-error-title { margin: 0 0 6px 0; font-weight: 700; }
.rt-error-details { margin: 0; background: transparent; color: #fca5a5; }

/* Alerts list */
.rt-alerts-list { display: flex; flex-direction: column; gap: var(--space-md); }
.rt-alert-card { background: var(--bg-panel); border: 1px solid var(--border-primary); border-radius: var(--radius); overflow: hidden; }
.rt-alert-header { display: flex; justify-content: space-between; align-items: center; padding: 10px 12px; background: var(--bg-panel-solid); border-bottom: 1px solid var(--border-primary); }
.rt-alert-severity { font-weight: 700; color: var(--text-accent); }
.rt-alert-details { padding: 10px 12px; color: var(--text-secondary); }
.rt-alert-payload { border-top: 1px dashed var(--border-primary); padding: 10px 12px; }

/* Right panel inner scrollbars */
.right-info-panel .rt-results-output,
.right-info-panel .rt-inputs,
.right-info-panel .rt-results,
.right-info-panel .pv-inputs,
.right-info-panel .pv-results {
  scrollbar-width: thin;
  scrollbar-color: #2a2d2e transparent;
}
.right-info-panel .rt-results-output::-webkit-scrollbar,
.right-info-panel .rt-inputs::-webkit-scrollbar,
.right-info-panel .rt-results::-webkit-scrollbar,
.right-info-panel .pv-inputs::-webkit-scrollbar,
.right-info-panel .pv-results::-webkit-scrollbar { width: 10px; height: 10px; }
.right-info-panel .rt-results-output::-webkit-scrollbar-thumb,
.right-info-panel .rt-inputs::-webkit-scrollbar-thumb,
.right-info-panel .rt-results::-webkit-scrollbar-thumb,
.right-info-panel .pv-inputs::-webkit-scrollbar-thumb,
.right-info-panel .pv-results::-webkit-scrollbar-thumb { background: #2a2d2e; border-radius: 8px; border: 2px solid transparent; background-clip: padding-box; }
.right-info-panel .rt-results-output::-webkit-scrollbar-thumb:hover,
.right-info-panel .rt-inputs::-webkit-scrollbar-thumb:hover,
.right-info-panel .rt-results::-webkit-scrollbar-thumb:hover,
.right-info-panel .pv-inputs::-webkit-scrollbar-thumb:hover,
.right-info-panel .pv-results::-webkit-scrollbar-thumb:hover { background: #3a3f41; }

/* === Full-height right panel + no page scroll (override) === */
.app-container { overflow: hidden !important; }
.app-layout-resizable { height: 100% !important; overflow: hidden; }
.panels-root { height: 100% !important; }
.right-info-panel { height: 100% !important; display: flex; flex-direction: column; }
.info-panel-container { height: 100% !important; display: flex; flex-direction: column; }
.right-info-panel .info-panel-body { flex: 1; overflow-y: auto !important; padding-right: var(--space-sm); }

/* Dark scrollbar specifically for the right panel body */
.right-info-panel .info-panel-body { scrollbar-width: thin; scrollbar-color: #2a2d2e transparent; }
.right-info-panel .info-panel-body::-webkit-scrollbar { width: 10px; height: 10px; }
.right-info-panel .info-panel-body::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); border-radius: 8px; }
.right-info-panel .info-panel-body::-webkit-scrollbar-thumb { background: #2a2d2e; border-radius: 8px; border: 2px solid transparent; background-clip: padding-box; }
.right-info-panel .info-panel-body::-webkit-scrollbar-thumb:hover { background: #3a3f41; }

/* === Test Laboratuvarı: place mode buttons under section label === */
.rule-tester-panel .rt-section { display: flex; flex-direction: column; align-items: stretch; }
.rt-mode-selector { align-self: flex-start; margin-top: var(--space-sm); }

/* === Payload Analiz: matcher controls and tall placeholder === */
.pv-matchers-list { display: flex; flex-direction: column; gap: var(--space-sm); }
.pv-matcher-item { display: flex; align-items: center; gap: var(--space-sm); }
.pv-matcher-item > span { color: var(--text-secondary); width: 18px; text-align: right; }
.pv-matcher-item input { flex: 1; }
.pv-matcher-action-btn { width: 32px; height: 32px; display: inline-flex; align-items: center; justify-content: center; background: transparent; color: var(--text-secondary); border: 1px solid var(--border-primary); border-radius: 6px; cursor: pointer; }
.pv-matcher-action-btn:hover { background: rgba(239,68,68,.1); color: #ff6b6b; border-color: rgba(239,68,68,.4); }

.pv-add-matcher-btn { width: 100%; display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 8px 10px; border-radius: 8px; border: 1px dashed var(--border-primary); background: transparent; color: var(--text-secondary); font-weight: 600; cursor: pointer; }
.pv-add-matcher-btn:hover { background: var(--bg-hover); color: var(--text-primary); border-color: var(--text-accent); }

/* Make results column occupy full height; placeholder fills it */
.pv-results { flex: 1; min-height: 0; display: flex; flex-direction: column; }
.pv-placeholder { flex: 1; min-height: 0; }
